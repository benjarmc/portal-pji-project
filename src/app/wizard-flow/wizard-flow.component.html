<wizard-header />
<div class="wizard-container">
  <!-- Barra de progreso -->
  <div class="wizard-progress d-flex justify-content-center align-items-center mb-4">
    <div *ngFor="let step of steps; let i = index" class="wizard-progress-step" [class.active]="i <= currentStep">
      <span class="dot"></span>
      <span *ngIf="i < steps.length - 1" class="line"></span>
    </div>
  </div>

  <!-- Contenido dinÃ¡mico del paso -->
  <div class="wizard-step-content">
    <app-welcome-step 
      *ngIf="getCurrentStepKey() === 'welcome'"
      (next)="nextStep()">
    </app-welcome-step>

    <app-main-data-step 
      *ngIf="getCurrentStepKey() === 'main-data'"
      [selectedPlan]="selectedPlan"
      (next)="onMainDataNext($event)"
      (previous)="prevStep()">
    </app-main-data-step>

    <app-payment-step 
      *ngIf="getCurrentStepKey() === 'payment'"
      (next)="nextStep()"
      (previous)="prevStep()">
    </app-payment-step>

    <app-validation-step 
      *ngIf="getCurrentStepKey() === 'validation'"
      [validationStatus]="validationStatus"
      (next)="nextStep()"
      (selectPlan)="onValidationSelectPlan($event)"
      (goToStart)="onValidationGoToStart()">
    </app-validation-step>

    <app-contract-step 
      *ngIf="getCurrentStepKey() === 'contract'"
      (next)="nextStep()"
      (previous)="prevStep()">
    </app-contract-step>

    <app-finish-step 
      *ngIf="getCurrentStepKey() === 'finish'"
      (goToStart)="onFinishGoToStart()">
    </app-finish-step>
  </div>
</div>
<wizard-footer />
