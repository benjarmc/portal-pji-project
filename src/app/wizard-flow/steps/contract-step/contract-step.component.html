<div class="contract-step">
  <h2>Prototipo de contrato</h2>
  <div class="contract-preview bg-white p-4 rounded shadow-sm mb-4">
    <div class="pdf-placeholder d-flex align-items-center justify-content-center" style="height: 500px; border: 2px dashed #ccc;">
      <div class="text-center">
        <i class="pi pi-file-pdf" style="font-size: 3rem; color: #dc3545; margin-bottom: 1rem;"></i>
        <h4>Vista previa del contrato</h4>
        <p class="text-muted">Aquí se mostraría el documento del contrato</p>
        <button class="btn btn-outline-primary" (click)="downloadContract()">
          <i class="pi pi-download"></i> Descargar contrato
        </button>
      </div>
    </div>
  </div>
  <form [formGroup]="contractForm" (ngSubmit)="onFirmarYFinalizar()">
    <div class="mb-3">
      <label class="fw-bold">Cláusulas adicionales</label>
      <div class="row">
        <div class="col-md-6" *ngFor="let clau of clausulas">
          <input type="checkbox" [value]="clau" (change)="onClausulaChange($event, clau)"> {{ clau }}
        </div>
      </div>
    </div>
    <div class="mb-3">
      <label>Requerimientos adicionales</label>
      <textarea class="form-control" formControlName="requerimientos" rows="2"></textarea>
    </div>
    <div class="form-check mb-3">
      <input class="form-check-input" type="checkbox" id="aceptarContrato" formControlName="aceptarContrato">
      <label class="form-check-label" for="aceptarContrato">
        He leído y acepto el contrato y las cláusulas seleccionadas
      </label>
    </div>
    <div class="d-flex gap-2">
      <button type="button" class="btn btn-secondary" (click)="onPrevious()">Atrás</button>
      <button type="submit" class="btn btn-accent" [disabled]="!contractForm.get('aceptarContrato')?.value">Firmar y finalizar</button>
    </div>
  </form>
</div> 